<script>
  // Revised Countdown for Happy Page
  function startCountdown() {
    const countdownElem = document.getElementById("countdown");
    let count = 3;
    const interval = setInterval(() => {
      if (count <= 0) {
        clearInterval(interval);
        countdownElem.style.display = "none";
        document.getElementById("final-content").style.display = "flex";
        launchConfetti();
      } else {
        countdownElem.textContent = count + "...";
        countdownElem.classList.add("fade-out");
        setTimeout(() => countdownElem.classList.remove("fade-out"), 800);
        count--;
      }
    }, 1000);
  }

  // Confetti Animation
  function launchConfetti() {
    const confettiContainer = document.getElementById("confetti");
    for (let i = 0; i < 200; i++) {
      const confettiPiece = document.createElement("div");
      confettiPiece.className = "confetti-piece";
      confettiPiece.style.left = `${Math.random() * 100}vw`;
      confettiPiece.style.animationDelay = `${Math.random() * 2}s`;
      confettiPiece.style.backgroundColor = getRandomColor();
      confettiContainer.appendChild(confettiPiece);
      setTimeout(() => confettiPiece.remove(), 3000);
    }
  }

  function getRandomColor() {
    const colors = ["#f44336", "#ff9800", "#ffc107", "#4caf50", "#03a9f4", "#9c27b0"];
    return colors[Math.floor(Math.random() * colors.length)];
  }

  // Checklist Toggle
  function toggleCheck(element) {
    element.classList.toggle("checked");
  }
</script>
